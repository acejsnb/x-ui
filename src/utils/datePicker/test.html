<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function getWeeks(Y, M) {
        const date = new Date(Y, M-1, 1);
        let w = date.getDay(); // 该月第一天是周几
        if (w === 0) w = 7;
        // 该月天数
        date.setFullYear(Y, M, 0);
        const dayNum = date.getDate(); // 当前月共有多少天
        let d1; // 该月第一个周一是几号
        if (w !== 1) d1 = 7 - w + 2;
        else d1 = 1;

        return Math.ceil((dayNum - d1 + 1) / 7);
    }
    // console.log(getWeeks('2019', '0'));

    function getWeekOfYear (Y) {
        const days=(Y % 400 === 0 || (Y % 4 === 0 && Y % 100 !== 0)) ? 366 : 365;
        const prevMLeft={  0:6, 1:0, 2:1, 3:2, 4:3, 5:4, 6:5 };
        const w=new Date(Y, 0, 1).getDay(); // 本月第一天是星期几
        const lDays=prevMLeft[w]; // 上一年剩余的天数
        console.log(lDays)

        return Math.ceil((days-lDays) / 7);
    }

    console.log(getWeekOfYear('2019'));

    function getYearWeek(Y, M, D) {
        let date1 = new Date(Y, parseInt(M) - 1, D), // 当前日期
            date2 = new Date(Y, 0, 1), // 当年第一天
            d = Math.round((date1.valueOf() - date2.valueOf()) / 86400000); // 当前日期是今年第多少天

        return Math.ceil((d + ((date2.getDay() + 1) - 1)) / 7);
    }
    // console.log(getYearWeek('2019', '11', '5'));
    /**
     let date1 = new Date(Y, parseInt(M) - 1, D), // 当前日期
     date2 = new Date(Y, 0, 1), // 当年第一天
     d = Math.round((date1.valueOf() - date2.valueOf()) / 86400000); // 当前日期是今年第多少天

     const legacyDay=CountWeek.legacyLastMonthDay(Y, 1); // 上个月遗留的天数
     let th=Math.ceil((d + ((date2.getDay() + 1) - 1)) / 7);
     return legacyDay===0?(th+1):th;
     */
</script>
</body>
</html>